!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);$((function(){var t,e=$(".overlay"),n=$(".global-status"),r=$(".items-container"),o=function(){var e=r.find("[data-header]").find("span");r.find("div:not([data-header])").remove(),r.css("opacity",".3"),t.listObjects((function(t,n){n.Contents.map((function(t){r.append("<div>".concat(t.Key,"</div>"))})),e.text(e.attr("data-text")+" (".concat(n.Contents.length,")")),r.css("opacity","1")}))},a=function(e){var n=$(".upload-status-template").clone();n.insertAfter($(".upload-status-template")),n.removeClass("upload-status-template d-none");var r=n.find(".progress"),a=r.find(".progress-bar"),i=r.find("small"),u=n.find(".time"),s=n.find(".name"),c=n.find(".size"),f=n.find(".link");return n.attr("data-status","uploading"),new Promise((function(n){if(!e)return n({error:"file"});var r={Key:"folder/"+(new Date).getTime()+"_"+e.name.replace(/ /gi,"-"),ContentType:e.type,Body:e};return u.text((new Date).toLocaleString()),s.text(e.name),c.text(e.size+" Bytes"),t.upload(r,(function(t,r){return t||!r.Location?n({error:"upload"}):(f.attr("href",r.Location).text(r.Location).removeClass("d-none"),n({type:e.type,bucket:r.Bucket,key:r.Key,url:r.Location}))})).on("httpUploadProgress",(function(t){t.total;var e=t.loaded/t.total,n=Math.round(100*e);a.attr("aria-valuemax",t.total).attr("aria-valuenow",t.loaded).css("width",n+"%"),i.text(n+" / 100 %")}))})).then((function(t){n.attr("data-status",t.error?"error":"success"),o()}))};return $.when($.get("/aws-config"),$.getScript("https://sdk.amazonaws.com/js/aws-sdk-2.283.1.min.js")).then((function(e){var n=e[0];AWS.config.region=n.region,AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:n.identity}),AWS.config.credentials.get((function(t){if(t)return{error:t}})),t=new AWS.S3({params:{Bucket:n.bucketName,Prefix:"folder/"}})})).then((function(t){var i=n.find(".init");if(t&&t.error)return i.text(JSON.stringify(t.error));i.text(i.attr("data-text")),$("html").on("dragover",(function(t){t.preventDefault(),t.stopPropagation()})).on("drop",(function(t){t.preventDefault(),t.stopPropagation()})),e.on("dragenter",(function(t){t.stopPropagation(),t.preventDefault()})).on("dragover",(function(t){t.stopPropagation(),t.preventDefault(),e.addClass("active")})).on("dragleave",(function(t){})).on("drop",(function(t){t.stopPropagation(),t.preventDefault(),e.removeClass("active");var n=t.originalEvent.target.files||t.originalEvent.dataTransfer.files;Object.values(n).map((function(t){return a(t)}))})),r.find("a").on("click",(function(){o()})),o()}))}))},function(t,e,n){}]);